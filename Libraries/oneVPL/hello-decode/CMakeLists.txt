cmake_minimum_required(VERSION 3.4)
if("${CMAKE_CXX_COMPILER}" STREQUAL "")
    set(CMAKE_CC_COMPILER "icx")
    set(CMAKE_CXX_COMPILER "icpx")
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsycl")
endif()
project (getting_started)
file(COPY $ENV{ONEAPI_ROOT}/vpl/latest/examples/hello/hello-decode/src DESTINATION . FILES_MATCHING PATTERN "*.*")
file(COPY $ENV{ONEAPI_ROOT}/vpl/latest/examples/hello/hello-decode/CMakeLists.txt DESTINATION .)
file(COPY $ENV{ONEAPI_ROOT}/vpl/latest/examples/hello/hello-decode/PreLoad.cmake DESTINATION .)
add_subdirectory (${PROJECT_BINARY_DIR}/ bin)

file(COPY $ENV{ONEAPI_ROOT}/vpl/latest/examples/content/cars_128x96.h265 DESTINATION .)
set(TARGET hello-decode)
set(RUNARGS -sw -i ./cars_128x96.h265)
add_custom_target(run ${TARGET} ${RUNARGS})